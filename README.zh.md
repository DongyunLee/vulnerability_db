# CNVD漏洞库

[English](README.md) | 中文

这是一个以CNVD漏洞库为数据源的漏洞库，
基于ThinkPHP5.1 LTS构建。

**注意：** 现在还是开发版本， **千万不要**用于生产环境。

## 安装
由于还没有开发完成，所以目前不支持`composer`安装，但回头我会加上的。

目前你只能通过git方式下载

1. ``git clone https://github.com/DongyunLee/vulnerability_db.git cnvd_vdb``
2.  `cd cnvd_vdb`
3. `comopser install`

你必须满足这上面的所有[要求](composer.json)，否则`composer`会报错。

如果顺利的话，你可以接着往下看了。

## 使用方法
###### 目前还没有开发`Index` 模块，所以你只能访问`Fetch` 模块。

*顺带一提：`Index` 模块用于展示你导入的漏洞信息，
而`Fetch`用于导入你从[CNVD](https://cnvd.org.cn)下载的xml数据。*

**在介绍使用方法之前，建议你先看看[tp的官方文档](https://www.kancloud.cn/manual/thinkphp5_1/353955)，
他跟你详细描述了不同服务器应该怎么做url重写的配置，项目根目录需要配置到当前目录的``public``*子目录下。*

### 从[CNVD](https://cnvd.org.cn)获取漏洞XML
1. 访问并登录[CNVD](https://cnvd.org.cn)；
2. 在[这个页面](https://www.cnvd.org.cn/shareData/list)你可以看到截止到目前所发布的最新的漏洞信息，
    查看你想下载导入的漏洞xml，拿到它的id。
    
    举个例子:
    > https://www.cnvd.org.cn/shareData/download/571
 
    它的id就是571.
3. 在你的根目录（通常就是这个文件所在的目录）下运行以下语句：

    ``php think down 上面你得到的id``

### 导入数据
Apache默认的访问URL是：
> http://你的域名/index.php/Fetch

Nginx默认的URL是:
> http://你的域名/Fetch
